/*
 * @Author: luoli
 * @Date: 2022-11-16 17:27:24
 * @LastEditors: luoli
 * @LastEditTime: 2022-11-17 15:57:58
 * @FilePath: /reg/reg.js
 * @Description:reg test
 *
 */
const reg1 = /^\d+([+]\d+)*(;\d+([+]\d+)*)*$/; //1+2;3+4
// const reg2 = /^\{\d+(,\d+)+\}:(\d+)((([+]\{\d+(,\d+)+\}:(\d+))*)|([+]\d+))$/;
const reg2 = /^(\d[+])*\{\d+(,\d+)+\}:(\d+)((([+]\{\d+(,\d+)+\}:(\d+))*)(([+]\d+)*))*$/; //{1,2}:1  {1,2}:1+5  {1,2}:1+{3,4}:1 {1,2}:1+{3,4}:1+5
// reg3  // 1+{2,3}:1+{4,5}:1;1+{2,3}:2  1+{2,3}:1+{4,5}:1;1   1+{2,3}:1+{4,5}:1;1+1

const reg3 =
  /(\d[+])*\{\d+(,\d+)+\}:(\d+)((([+]\{\d+(,\d+)+\}:(\d+))*)(([+]\d+)*))*;((\d[+])*\{\d+(,\d+)+\}:(\d+)*((([+]\{\d+(,\d+)+\}:(\d+))*)(([+]\d+)*))*)*(\d*([+]\d*)*)*/;
// 1+{2,3}:1+{4,5}:1;1+{2,3}:2  {2,3}:1+{4,5}:1;1+{2,3}:2  1+{2,3}:1+1+{4,5}:1+1;1+{2,3}:2+{1,2}:2+1+{1,2}:2+2

// TODO: 正则优化
// 剔除错误
//1、  {2,3}:1;

// * 原有正则reg3没法匹配该情况（组{2,2}:1 和 1+1 可以同时存在，可以只存在一个，可以都不存在）的时候，单独的分号；会被正确匹配
// 所以分成两个正则
// ;后面是普通组合 {2,3}:1+1+{4,5}:1;1+1+2
const reg3_1 =
  /(\d[+])*\{\d+(,\d+)+\}:(\d+)((([+]\{\d+(,\d+)+\}:(\d+))*)(([+]\d+)*))*(\;\d+([+]\d+)+)+/;
//  ;后面是组 {2,3}:1+1+{4,5}:1;{2,3}:1+1 1+{2,3}:!;1+{2,3}:1+{2,3}:!+1
const reg3_2 =
  /(\d[+])*\{\d+(,\d+)+\}:(\d+)((([+]\{\d+(,\d+)+\}:(\d+))*)(([+]\d+)*))*(\;(\d[+])*(\{\d(,\d)+\}:\d)+)+([+]\{\d+(,\d)+\}:\d+)*([+]\d+)*/;
